{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">

    <!-- CDNs -->
    <script src="https://kit.fontawesome.com/f8dced6eec.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'WinterMogotsi/index.css' %}">
    <link rel="stylesheet" href="{% static 'WinterMogotsi/animations.css' %}">
    <title>Rhulani Mogotsi - Full-Stack Developer</title>
</head>
<body>
    <div id="splash">
        <svg id="splash-logo" width="122" height="46" viewBox="0 0 122 46" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.57375 46V0.239998H38.9098C43.6458 0.239998 47.3151 1.43466 49.9178 3.824C52.5631 6.21333 53.8858 9.84 53.8858 14.704C53.8858 18.8427 52.9258 22.0853 51.0058 24.432C49.0858 26.7787 46.3551 28.2507 42.8138 28.848L53.3738 46H41.7258L31.9338 29.168H10.8138V46H0.57375ZM37.6938 8.56H10.8138V20.784L37.6938 20.848C39.5711 20.848 41.0004 20.3787 41.9818 19.44C43.0058 18.5013 43.5178 16.9227 43.5178 14.704C43.5178 12.4427 43.0058 10.864 41.9818 9.968C41.0004 9.02933 39.5711 8.56 37.6938 8.56ZM61.5738 46V0.239998H70.1498L91.3338 15.088H91.6538L112.838 0.239998H121.414V46H111.174V13.04L96.6458 22.768V46H86.4058V22.768L71.8138 13.04V46H61.5738Z" fill="white"/>
        </svg>
    </div>
    <header id="header">
        <div class="container-fluid header-container">
            <nav>
                <a href="/" class="logo-link">
                    <svg id="header-logo" width="122" height="46" viewBox="0 0 122 46" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.57375 46V0.239998H38.9098C43.6458 0.239998 47.3151 1.43466 49.9178 3.824C52.5631 6.21333 53.8858 9.84 53.8858 14.704C53.8858 18.8427 52.9258 22.0853 51.0058 24.432C49.0858 26.7787 46.3551 28.2507 42.8138 28.848L53.3738 46H41.7258L31.9338 29.168H10.8138V46H0.57375ZM37.6938 8.56H10.8138V20.784L37.6938 20.848C39.5711 20.848 41.0004 20.3787 41.9818 19.44C43.0058 18.5013 43.5178 16.9227 43.5178 14.704C43.5178 12.4427 43.0058 10.864 41.9818 9.968C41.0004 9.02933 39.5711 8.56 37.6938 8.56ZM61.5738 46V0.239998H70.1498L91.3338 15.088H91.6538L112.838 0.239998H121.414V46H111.174V13.04L96.6458 22.768V46H86.4058V22.768L71.8138 13.04V46H61.5738Z" fill="white"/>
                    </svg>
                </a>
                <ul class="nav-list p-0 m-0">
                    <li class="nav-item m-0 p-3">
                        <a href="#about" class="nav-link">
                            About
                        </a>
                    </li>
                    <li class="nav-item m-0 p-3">
                        <a href="#experience" class="nav-link">
                            Experience
                        </a>
                    </li>
                    <li class="nav-item m-0 p-3">
                        <a href="#projects" class="nav-link">
                            My Work
                        </a>
                    </li>
                    <li class="nav-item m-0 p-3">
                        <a href="#contact" class="nav-link">
                            Contact
                        </a>
                    </li>
                </ul>
                <button id="menu-toggle" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvas-nav" aria-controls="offcanvas-nav">
                    <i class="fa-solid fa-bars icon"></i>
                </button>
                  
            </nav>
            <div class="header-content">
                <div class="header-img">
                    <img src="{% static 'WinterMogotsi/images/winter-placeholder.png' %}" alt="Winter Mogotsi, Full-Stack Developer">
                </div>
                <div class="header-text me-md-3">
                    <h1 class="header-title">
                        Rhulani Mogotsi
                    </h1>                          
                    <h1 class="header-tagline">
                        Full Stack Developer
                    </h1>
                </div>
            </div>
            <a href="" class="magneto">
                <span class="text">My Work</span>
            </a>
            <div class="social-bar">
                <a href="https://github.com/CodeMasterWinter" target="_blank" class="social-link">
                    <i class="fa-brands fa-github"></i>
                </a>
                <a href="https://twitter.com/WinterMogotsi" target="_blank" class="social-link">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://www.linkedin.com/in/rhulani-mogotsi-7bab64286" target="_blank" class="social-link">
                    <i class="fa-brands fa-linkedin"></i>
                </a>
            </div>
        </div>
    </header>
    <section id="introduction">  
        <div class="container-fluid introduction-container p-0">
            <div class="intro-tags p-4">
                <p class="intro-tag p-2 m-0">Boundless Tenacity</p>
                <p class="intro-tag p-2 m-0">Effortless Efficiency</p>
                <p class="intro-tag p-2 m-0">Peerless Proficiency</p>
            </div>
            <div class="intro-text p-4">
                <p>My boundless passion for
                    code paired with my unrivaled proficiency in all 
                    relative fields allows me to create solutions that 
                    bring a new and unrivaled standard to any organization
                </p>
            </div>
        </div>
    </section>

    <!-- off-screen nav -->
    {% block nav %}
    <div class="offcanvas offcanvas-end px-4" tabindex="-1" id="offcanvas-nav" aria-labelledby="offcanvasLabel">
        <div class="offcanvas-header p-0">
            <svg id="offcanvas-nav-logo" width="122" height="46" viewBox="0 0 122 46" xmlns="http://www.w3.org/2000/svg">
                <path d="M0.57375 46V0.239998H38.9098C43.6458 0.239998 47.3151 1.43466 49.9178 3.824C52.5631 6.21333 53.8858 9.84 53.8858 14.704C53.8858 18.8427 52.9258 22.0853 51.0058 24.432C49.0858 26.7787 46.3551 28.2507 42.8138 28.848L53.3738 46H41.7258L31.9338 29.168H10.8138V46H0.57375ZM37.6938 8.56H10.8138V20.784L37.6938 20.848C39.5711 20.848 41.0004 20.3787 41.9818 19.44C43.0058 18.5013 43.5178 16.9227 43.5178 14.704C43.5178 12.4427 43.0058 10.864 41.9818 9.968C41.0004 9.02933 39.5711 8.56 37.6938 8.56ZM61.5738 46V0.239998H70.1498L91.3338 15.088H91.6538L112.838 0.239998H121.414V46H111.174V13.04L96.6458 22.768V46H86.4058V22.768L71.8138 13.04V46H61.5738Z" fill="white"/>
            </svg>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <hr class="nav-sep my-5">
        <div class="offcanvas-body p-0">
            <ul class="offcanvas-nav-list p-0">
                <li class="offcanvas-nav-item">
                    <a href="#header" class="offcanvas-nav-link">
                        Home
                    </a>
                </li>
                <li class="offcanvas-nav-item">
                    <a href="#about" class="offcanvas-nav-link">
                        About
                    </a>
                </li>
                <li class="offcanvas-nav-item">
                    <a href="#experience" class="offcanvas-nav-link">
                        Experience
                    </a>
                </li>
                <li class="offcanvas-nav-item">
                    <a href="#projects" class="offcanvas-nav-link">
                        My Work
                    </a>
                </li>
                <li class="offcanvas-nav-item">
                    <a href="#contact" class="offcanvas-nav-link">
                        Contact
                    </a>
                </li>
            </ul>
        </div>
        <div class="offcanvas-footer p-0">
            <p class="social-bar-header">Socials</p>
            <div class="nav-social-bar">
                <a href="https://github.com/CodeMasterWinter" target="_blank" class="social-link">
                    <i class="fa-brands fa-github"></i>
                </a>
                <a href="https://twitter.com/WinterMogotsi" target="_blank" class="social-link">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://www.linkedin.com/in/rhulani-mogotsi-7bab64286" target="_blank" class="social-link">
                    <i class="fa-brands fa-linkedin"></i>
                </a>
            </div>
        </div>
    </div>
    {% endblock nav %}

    <script src="{% static 'WinterMogotsi/index.js' %}"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/TextPlugin.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>
    
    <script>
        const lenis = new Lenis()

        lenis.on('scroll', (e) => {
        console.log(e)
        })

        lenis.on('scroll', ScrollTrigger.update)

        gsap.ticker.add((time)=>{
        lenis.raf(time * 1000)
        })

        gsap.ticker.lagSmoothing(0)
    </script>
    <script>
        const magneto = document.querySelector('.magneto')
        const magnetoText = document.querySelector('.magneto .text')

        const activateMagneto = (event) => {
            let boundBox = magneto.getBoundingClientRect()
            const magnetoStrength = 40
            const magnetoTextStrength = 45
            const newX = ((event.clientX - boundBox.left)/magneto.offsetWidth) - 0.5
            const newY = ((event.clientY - boundBox.top)/magneto.offsetHeight) - 0.5

            // Move button to new position
            gsap.to(magneto, {
                duration: 1,
                x: newX * magnetoStrength,
                y: newY * magnetoStrength,
                ease: Power4.easeOut
            })

            gsap.to(magnetoText, {
                duration: 1,
                x: newX * magnetoTextStrength,
                y: newY * magnetoTextStrength,
                ease: Power4.easeOut
            })
        }

        const resetMagneto = (event) => {
            // Move button to initial position
            gsap.to(magneto, {
                duration: 1,
                x: 0,
                y:0, 
                ease: Elastic.easeOut
            })

            gsap.to(magnetoText, {
                duration: 1,
                x: 0,
                y:0, 
                ease: Elastic.easeOut
            })
        }

        magneto.addEventListener('mousemove', activateMagneto)
        magneto.addEventListener('mouseleave', resetMagneto)
        
        // menu magnetism

        const menu = document.querySelector('#menu-toggle')
        const menuText = document.querySelector('#menu-toggle .icon')
        
        const activateMenu = (event) => {
            let boundBox = menu.getBoundingClientRect()
            const menuStrength = 40
            const menuTextStrength = 30
            const newX = ((event.clientX - boundBox.left)/menu.offsetWidth) - 0.5
            const newY = ((event.clientY - boundBox.top)/menu.offsetHeight) - 0.5

            // Move button to new position
            gsap.to(menu, {
                duration: 1,
                x: newX * menuStrength,
                y: newY * menuStrength,
                ease: Power4.easeOut
            })

            gsap.to(menuText, {
                duration: 1,
                x: newX * menuTextStrength,
                y: newY * menuTextStrength,
                ease: Power4.easeOut
            })
        }

        const resetMenu = (event) => {
            // Move button to initial position
            gsap.to(menu, {
                duration: 1,
                x: 0,
                y:0, 
                ease: Elastic.easeOut
            })

            gsap.to(menuText, {
                duration: 1,
                x: 0,
                y:0, 
                ease: Elastic.easeOut
            })
        }

        menu.addEventListener('mousemove', activateMenu)
        menu.addEventListener('mouseleave', resetMenu)

    </script>
    <script>
        let headerTitle = document.querySelector('.header-title')
        let headShot = document.querySelector('.header-img')
        let headerTagline = document.querySelector('.header-tagline')
        let socialBar = document.querySelector('.social-bar')
        let header = document.querySelector('#header')

        
        let intro = document.querySelector('#introduction')
        let introTags = document.querySelectorAll('.intro-tag')

        gsap.set(headerTitle, {
            xPercent: 0,
            opacity: 1
        })

        gsap.set(menu, {
            scale: 0.5,
            opacity: 0
        })

        gsap.to(headShot, {
            scrollTrigger: {
                trigger: header,
                start: 'top',
                scrub: true
            },
            yPercent: 20,
            scale: .8,
            opacity: 0
        })

        gsap.to(socialBar, {
            scrollTrigger: {
                trigger: header,
                start: 'top',
                scrub: true
            },
            opacity: 0,
        })

        gsap.to(magneto, {
            scrollTrigger: {
                trigger: headerTitle,
                start: 'top',
                scrub: true,
            },
            scale: 1.5,
            opacity: 0
        })

        gsap.to(menu, {
            scrollTrigger: {
                trigger: header,
                start: 'top',
                scrub: true,
            },
            scale: 1,
            opacity: 1
        })

        gsap.to(headerTitle, {
            scrollTrigger: {
                trigger: header,
                start: 'top',
                scrub: true
            },
            yPercent: -100,
            opacity: 0
        })

        gsap.to(headerTagline, {
            scrollTrigger: {
                trigger: header,
                start: 'top',
                scrub: true
            },
            yPercent: -100,
            opacity: 0
        })

        introTags.forEach((introTag, index) => {
            gsap.set(introTag, {
                xPercent: -20,
                opacity: 0
        });

            gsap.to(introTag, {
                scrollTrigger: {
                    trigger: intro,
                    start: 'top 50%',
                },
                delay: index * 1,
                xPercent: 0,
                opacity: 1
        })
        })
    </script>
</body>
</html>